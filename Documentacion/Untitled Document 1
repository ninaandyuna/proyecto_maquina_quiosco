2.
Manejar las dependencias
Con systemd las dependencias pueden ser resueltas planificando la unidad correctamente. El caso más típico es que la unidad A requiere la unidad B para poder funcionar, por lo que esta última debe iniciarse antes que A. En ese caso, agregue Requires=B y After=B a la sección [Unit] de A. Si la dependencia es opcional agregue, en su lugar, Wants=B y After=B. Tenga en cuenta que Wants= y Requires= no incluyen After=, lo que significa que si After= no esté especificado, las dos unidades se iniciarán en paralelo.
Las dependencias se colocan normalmente en los archivos .service y no en los .target. Por ejemplo, network.target es llamado por cualquiera que sea el servicio que configure las interfaces de red, por lo tanto, la solicitud que hace después la propia unidad personalizada es suficiente, ya que network.target se inicia de todos modos.














¿Cómo configuro el inicio de sesión automático en una terminal de consola virtual?

Primero crear un nuevo servicio similar a getty@.service:

# cp /lib/systemd/system/getty@.service \
     /etc/systemd/system/autologin@.service
# ln -s /etc/systemd/system/autologin@.service \
        /etc/systemd/system/getty.target.wants/getty@tty8.service
a continuación editar ExecStart, Restart y los valores de Alias, como este:

...
ExecStart=-/sbin/mingetty --autologin USERNAME %I
Restart=no
...
Alias=getty.target.wants/getty@tty8.service
y finalmente volver a cargar el demonio e iniciar el servicio:

systemctl daemon-reload
systemctl start getty@tty8.service
Tenga en cuenta que si sale de la sesión tty8, puede usarla hasta el siguiente reinicio o arranque manual por systemctl, excepto si deja Restart como 'always', pero recomiendo evitar esto por razones de seguridad.









































http://www.vozidea.com/como-crear-servicios-en-ubuntu-con-systemd
https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files












Nota: Si los servicios no tienen una sección [Install] significa, por lo general, que se les llama de forma automática por otros servicios. Pero si necesita instalarlos manualmente, utilice la orden siguiente, reemplazando foo con el nombre del servicio.
# ln -s /usr/lib/systemd/system/foo.service /etc/systemd/system/graphical.target.wants/








## SUGERENCIA

When starting X automatically, it may be useful to start getty@tty1.service immediately by adding Type=simple into the drop-in snippet. Both the init system and startx can be silenced to avoid the interleaving of their messages during boot-up.

Al iniciar X automáticamente, puede ser útil iniciar getty@tty1.service de inmediato agregando Type = simple en el fragmento de entrada. Tanto el sistema init como el startx pueden silenciarse para evitar el entrelazado de sus mensajes durante el arranque.


